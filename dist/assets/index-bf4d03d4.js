import{u as _,r as c,f as y,a as h,c as C,e as i,h as r,w as o,b as n,g as N,ba as u,bb as d}from"./index-953b23c6.js";import{_ as k}from"./welcome_login-b9ad3c0e.js";import{u as q}from"./use-message-37081a3e.js";import{u as I}from"./composables-3e6ed2ea.js";import{_ as K,a as U}from"./FormItem-2ba5ccbf.js";import{_ as j}from"./Input-e5c21a65.js";import"./Eye-53aa542d.js";import"./use-merged-state-b9c9e241.js";const E={class:"w-full flex justify-center items-center"},$=i("img",{src:k,class:"w-72 h-72",alt:""},null,-1),B={class:"flex flex-col ml-24"},M=i("div",{class:"pingfang_jian mb-5 font-bold text-purple-700"},"注册",-1),J={__name:"index",setup(F){const g=_(),f=c(null),m=q();I();let t=y({name:"",password:"",studentId:"",studentName:"",idCard:"",phone:"",status:0});const x={name:{required:!0,message:"请输入昵称",trigger:["input","blur"]},password:{required:!0,message:"请输入密码",trigger:["input","blur"]},studentId:{required:!0,message:"请输入学号",trigger:["input","blur"]},studentName:{required:!0,message:"请输入姓名",trigger:["input","blur"]},idCard:{required:!0,trigger:["input","blur"],validator(p,e){if(e){if(!/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e))return new Error("请输入正确的身份证号码")}else return new Error("请输入身份证号码");return!0},trigger:["input","blur"]},phone:{required:!0,trigger:["input","blur"],validator(p,e){if(e){if(!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e))return new Error("请输入正确的手机号")}else return new Error("请输入手机号")}}};function v(){var p;(p=f.value)==null||p.validate(e=>{e?console.log(e):N.post("/addUser",{name:t.name,password:t.password,isManager:!1,studentId:t.studentId,studentName:t.studentName,idCard:t.idCard,status:t.status,phone:t.phone}).then(l=>{console.log(l),l.data.code==1?(m.success("注册成功，请等待管理员审核"),g.push("/login")):m.error("注册失败,该用户已存在")})})}function w(){m.success("确定"),g.push("/login")}return(p,e)=>{const l=j,a=U,b=K;return h(),C("div",E,[$,i("div",B,[M,r(b,{ref_key:"registerForm",ref:f,model:n(t),rules:x,"label-placement":"left","require-mark-placement":"left"},{default:o(()=>[r(a,{path:"name",label:"用户名:"},{default:o(()=>[r(l,{value:n(t).name,"onUpdate:value":e[0]||(e[0]=s=>n(t).name=s),class:"bg-gray-100 text-xs outline-0 rounded-xl",placeholder:"请输入昵称...",onKeydown:e[1]||(e[1]=u(d(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),r(a,{path:"password",label:"密码:"},{default:o(()=>[r(l,{value:n(t).password,"onUpdate:value":e[2]||(e[2]=s=>n(t).password=s),type:"password",class:"bg-gray-100 text-xs outline-0 rounded-xl",placeholder:"请输入密码...","show-password-on":"mousedown",onKeydown:e[3]||(e[3]=u(d(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),r(a,{path:"studentId",label:"学号:"},{default:o(()=>[r(l,{value:n(t).studentId,"onUpdate:value":e[4]||(e[4]=s=>n(t).studentId=s),class:"bg-gray-100 text-xs outline-0 rounded-xl",placeholder:"请输入学号...",onKeydown:e[5]||(e[5]=u(d(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),r(a,{path:"studentName",label:"姓名:"},{default:o(()=>[r(l,{value:n(t).studentName,"onUpdate:value":e[6]||(e[6]=s=>n(t).studentName=s),class:"bg-gray-100 text-xs outline-0 rounded-xl",placeholder:"请输入姓名...",onKeydown:e[7]||(e[7]=u(d(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),r(a,{path:"idCard",label:"身份证号码:"},{default:o(()=>[r(l,{value:n(t).idCard,"onUpdate:value":e[8]||(e[8]=s=>n(t).idCard=s),class:"bg-gray-100 text-xs outline-0 rounded-xl",placeholder:"请输入身份证号码...",onKeydown:e[9]||(e[9]=u(d(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),r(a,{path:"phone",label:"手机号码:"},{default:o(()=>[r(l,{value:n(t).phone,"onUpdate:value":e[10]||(e[10]=s=>n(t).phone=s),class:"bg-gray-100 text-xs outline-0 rounded-xl",placeholder:"请输入手机号码...",onKeydown:e[11]||(e[11]=u(d(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1})]),_:1},8,["model"]),i("div",{class:"flex w-full"},[i("div",{onClick:v,class:"w-24 h-8 mt-4 active:scale-75 transition duration-500 ease-in-out text-white pingfang_jian flex justify-center items-center rounded-xl text-xs cursor-pointer bg-purple-700"}," 注册 "),i("div",{onClick:w,class:"w-24 h-8 mt-4 ml-24 active:scale-75 transition duration-500 ease-in-out text-white pingfang_jian flex justify-center items-center rounded-xl text-xs cursor-pointer bg-blue-500"}," 返回 ")])])])}}};export{J as default};
