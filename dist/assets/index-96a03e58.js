import{u as D,f as h,o as z,a as B,c as I,h as t,w as o,b as a,e as l,ae as M,b6 as _,g as U}from"./index-953b23c6.js";import{_ as V,a as N,b as L,c as T,d as $}from"./text-521c3225.js";import{_ as F,a as R}from"./Upload-5e0cf409.js";import{u as E}from"./use-message-37081a3e.js";import{u as G}from"./composables-3e6ed2ea.js";import{_ as H}from"./Input-e5c21a65.js";import"./Eye-53aa542d.js";import"./use-merged-state-b9c9e241.js";import"./Tooltip-b27f7136.js";import"./_createCompounder-43c7f031.js";const P={class:"w-full bg-cover h-full p-2",style:{"background-image":"url('/bg_deatied.png')"}},Y=l("div",{style:{"margin-bottom":"12px"},class:"mx-auto flex justify-center items-center"},[l("svg",{t:"1673745043444",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3584",width:"48",height:"48"},[l("path",{d:"M507.136 514.944c3.072-4.362667 7.210667-7.925333 12.032-10.314667a37.365333 37.365333 0 0 1 46.634667 6.144l97.418666 102.794667a32 32 0 0 1-46.442666 44.021333L565.333333 603.317333V853.333333a32 32 0 1 1-64 0V608.757333l-52.618666 50.016a32 32 0 0 1-44.096-46.4l102.517333-97.429333zM512 138.666667c123.018667 0 228.213333 85.696 259.424 204.469333C864.298667 344.736 938.666667 422.752 938.666667 518.218667 938.666667 614.688 862.752 693.333333 768.533333 693.333333a32 32 0 0 1 0-64C826.890667 629.333333 874.666667 579.84 874.666667 518.218667c0-61.610667-47.776-111.104-106.133334-111.104-5.856 0-11.626667 0.490667-17.301333 1.461333a32 32 0 0 1-37.024-26.666667C698.346667 279.04 612.714667 202.666667 512 202.666667c-73.834667 0-140.928 41.066667-177.376 106.613333a32 32 0 0 1-30.122667 16.373333c-3.168-0.213333-6.357333-0.32-9.568-0.32C214.784 325.333333 149.333333 393.141333 149.333333 477.333333S214.784 629.333333 294.933333 629.333333a32 32 0 1 1 0 64C178.912 693.333333 85.333333 596.373333 85.333333 477.333333c0-116.938667 90.293333-212.554667 203.456-215.904C338.090667 185.696 421.013333 138.666667 512 138.666667z",fill:"#000000","p-id":"3585"})])],-1),q={class:"flex items-center flex-col"},A=l("div",{class:"pingfang_jian mr-3"},"商品名字",-1),J=l("div",{class:"pingfang_jian mr-6",style:{transform:"translate(10px,0px)"}},"商品价格",-1),K=l("div",{class:"pingfang_jian mr-3"},"商品简介",-1),O=l("div",{class:"pingfang_jian mr-3"},"发货地址",-1),Q={class:"flex justify-end pr-32 w-95_"},ue={__name:"index",setup(W){const v=D(),x="http://124.222.246.206:3175",c=E(),w=G();let n=h({shop_name:"",price:1,introduce:"",address:"",username:localStorage.getItem("name"),user_id:localStorage.getItem("id")}),u=h([]);z(()=>{localStorage.getItem("token")||(c.warning("请先登录"),v.push("/login"))});function y(i){let e=new Date().getFullYear(),r=new Date().getMonth()+1,p=i.file.file.size,d=new Date().getDate(),m=new Date().getHours();u.push(x+"/public/"+e+r+d+p+m+".jpg")}function b(){console.log(u),U.post("/addGoods",{name:n.shop_name,price:n.price,introduce:n.introduce,img:u,user_id:localStorage.getItem("id"),username:localStorage.getItem("name"),address:n.address,reviewStatus:0}).then(i=>{i.data.code==1&&(c.success("发布成功, 请等待管理员审核"),v.push("/"))})}function j(i,e){w.warning({title:"确定要"+e+"吗",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{b()},onNegativeClick:()=>{c.info("已取消")}})}return(i,e)=>{const r=M,p=L,d=T,m=R,C=F,g=H,f=V,k=$,S=N;return B(),I("div",P,[t(r,{onClick:e[0]||(e[0]=s=>i.$router.back())},{default:o(()=>[_("Back")]),_:1}),t(C,{multiple:"","directory-dnd":"",action:"http://124.222.246.206:3175/api/upload","default-file-list":a(u),onFinish:y,class:"mt-3",max:5},{default:o(()=>[t(m,null,{default:o(()=>[Y,t(p,{style:{"font-size":"16px"}},{default:o(()=>[_(" 点击或者拖动文件到该区域来上传 ")]),_:1}),t(d,{depth:"3",style:{margin:"8px 0 0 0"}},{default:o(()=>[_(" 请不要上传敏感数据，比如你的银行卡号和密码，信用卡号有效期和安全码 ")]),_:1})]),_:1})]),_:1},8,["default-file-list"]),l("div",q,[t(f,{class:"flex items-center mt-24 justify-center"},{default:o(()=>[A,t(g,{placeholder:"请输入商品名字",value:a(n).shop_name,"onUpdate:value":e[1]||(e[1]=s=>a(n).shop_name=s),style:{width:"50%"}},null,8,["value"])]),_:1}),t(S,{style:{width:"59%"},class:"flex items-center mt-4"},{default:o(()=>[J,t(k,{value:a(n).price,"onUpdate:value":e[2]||(e[2]=s=>a(n).price=s),clearable:"",placeholder:"请输入价格"},null,8,["value"])]),_:1}),t(f,{class:"flex items-center mt-4 justify-center"},{default:o(()=>[K,t(g,{placeholder:"请输入商品简介",value:a(n).introduce,"onUpdate:value":e[3]||(e[3]=s=>a(n).introduce=s),style:{width:"50%"}},null,8,["value"])]),_:1}),t(f,{class:"flex items-center mt-4 justify-center"},{default:o(()=>[O,t(g,{placeholder:"请输入发货地址",type:"textarea",value:a(n).address,"onUpdate:value":e[4]||(e[4]=s=>a(n).address=s),style:{width:"50%"}},null,8,["value"])]),_:1}),l("div",Q,[t(r,{strong:"",secondary:"",class:"mt-7",onClick:e[5]||(e[5]=s=>j("/","发布")),type:"info"},{default:o(()=>[_("提交")]),_:1})])])])}}};export{ue as default};
