import{b as l}from"./runtime-dom.esm-bundler-af906a5a.js";import{_ as u}from"./welcome_login-b9ad3c0e.js";import{a as g}from"./axios-a900fd7e.js";import{r}from"./index-888bc847.js";import{a as x,e as _,a3 as f,a6 as t,Y as d,N as o}from"./runtime-core.esm-bundler-36726079.js";import{u as v,a as w}from"./use-message-31edf5b3.js";import"./context-84471831.js";import"./create-injection-key-b5917821.js";const h={class:"w-full flex justify-center items-center"},b=t("img",{src:u,class:"w-72 h-72",alt:""},null,-1),y={class:"flex flex-col ml-24"},k=t("div",{class:"pingfang_jian mb-5 font-bold text-purple-700"},"登录",-1),M={__name:"index",setup(j){let a=x({name:"",password:""});const i=v(),c=w();function m(){g.post("/login",{name:a.name,password:a.password}).then(e=>{console.log(e),e.data.code==1?(i.success("登录成功"),localStorage.setItem("token",e.data.data.password),localStorage.setItem("name",e.data.data.name),localStorage.setItem("id",e.data.data._id),localStorage.setItem("head_img",e.data.data.img_head),r.push("/")):i.warning(e.data.msg)})}function p(){c.warning({title:"将跳转到注册",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{r.push("/register")},onNegativeClick:()=>{i.success("选择成功")}})}return(e,s)=>(_(),f("div",h,[b,t("div",y,[k,d(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>o(a).name=n),class:"bg-gray-100 p-2 text-xs outline-0 rounded-xl",placeholder:"请输入姓名..."},null,512),[[l,o(a).name]]),d(t("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=n=>o(a).password=n),class:"bg-gray-100 mt-5 mb-6 p-2 text-xs outline-0 rounded-xl",placeholder:"请输入密码..."},null,512),[[l,o(a).password]]),t("div",{class:"flex w-full"},[t("div",{onClick:p,class:"w-24 h-8 mt-4 active:scale-75 transition duration-500 ease-in-out text-white pingfang_jian flex justify-center items-center rounded-xl text-xs cursor-pointer bg-blue-400"},"注册"),t("div",{onClick:m,class:"w-24 h-8 mt-4 ml-24 active:scale-75 transition duration-500 ease-in-out text-white pingfang_jian flex justify-center items-center rounded-xl text-xs cursor-pointer bg-purple-700"},"登录")])])]))}};export{M as default};
