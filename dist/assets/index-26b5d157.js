import{u as S,bW as z,f as x,o as B,a as M,c as U,h as e,w as s,b as o,e as a,g as V,ae as I,b6 as r}from"./index-953b23c6.js";import{u as L}from"./use-message-37081a3e.js";import{u as N}from"./composables-3e6ed2ea.js";import{_ as R,a as F}from"./Upload-5e0cf409.js";import{_ as $,a as q,b as E,c as G,d as H}from"./text-521c3225.js";import{_ as T}from"./Input-e5c21a65.js";import"./Eye-53aa542d.js";import"./Tooltip-b27f7136.js";import"./use-merged-state-b9c9e241.js";import"./_createCompounder-43c7f031.js";const W={class:"w-full bg-cover h-full p-2",style:{"background-image":"url('/bg_deatied.png')"}},Y=a("div",{style:{"margin-bottom":"12px"},class:"mx-auto flex justify-center items-center"},[a("svg",{t:"1673745043444",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3584",width:"48",height:"48"},[a("path",{d:"M507.136 514.944c3.072-4.362667 7.210667-7.925333 12.032-10.314667a37.365333 37.365333 0 0 1 46.634667 6.144l97.418666 102.794667a32 32 0 0 1-46.442666 44.021333L565.333333 603.317333V853.333333a32 32 0 1 1-64 0V608.757333l-52.618666 50.016a32 32 0 0 1-44.096-46.4l102.517333-97.429333zM512 138.666667c123.018667 0 228.213333 85.696 259.424 204.469333C864.298667 344.736 938.666667 422.752 938.666667 518.218667 938.666667 614.688 862.752 693.333333 768.533333 693.333333a32 32 0 0 1 0-64C826.890667 629.333333 874.666667 579.84 874.666667 518.218667c0-61.610667-47.776-111.104-106.133334-111.104-5.856 0-11.626667 0.490667-17.301333 1.461333a32 32 0 0 1-37.024-26.666667C698.346667 279.04 612.714667 202.666667 512 202.666667c-73.834667 0-140.928 41.066667-177.376 106.613333a32 32 0 0 1-30.122667 16.373333c-3.168-0.213333-6.357333-0.32-9.568-0.32C214.784 325.333333 149.333333 393.141333 149.333333 477.333333S214.784 629.333333 294.933333 629.333333a32 32 0 1 1 0 64C178.912 693.333333 85.333333 596.373333 85.333333 477.333333c0-116.938667 90.293333-212.554667 203.456-215.904C338.090667 185.696 421.013333 138.666667 512 138.666667z",fill:"#000000","p-id":"3585"})])],-1),A={class:"flex items-center flex-col"},J=a("div",{class:"pingfang_jian mr-3"},"商品名字",-1),K=a("div",{class:"pingfang_jian mr-3 pl-6"},"商品价格",-1),O=a("div",{class:"pingfang_jian mr-3"},"商品简介",-1),P=a("div",{class:"pingfang_jian mr-3"},"发货地址",-1),Q={class:"flex justify-end pr-32 w-95_"},re={__name:"index",setup(X){const h=S(),w=z(),y="http://124.222.246.206:3175",v=L();N();const l=w.query;console.log(l);let t=x({shop_name:l.name,price:l.price,introduce:l.introduce,address:l.address,username:l.username,user_id:l.user_id}),_=x([]);B(()=>{localStorage.getItem("token")||(v.warning("请先登录"),h.push("/login"))});function b(u){let n=new Date().getFullYear(),c=new Date().getMonth()+1,d=u.file.file.size,p=new Date().getDate(),m=new Date().getHours();_.push(y+"/public/"+n+c+p+d+m+".jpg")}function j(){console.log(_),V.post("/editGoods",{name:t.shop_name,price:t.price,introduce:t.introduce,img:_,user_id:localStorage.getItem("id"),username:localStorage.getItem("name"),address:t.address,reviewStatus:0,id:l._id}).then(u=>{u.data.code==1&&(v.success("编辑成功,请等待管理员审核"),h.back())})}return(u,n)=>{const c=I,d=E,p=G,m=F,k=R,g=T,f=$,C=H,D=q;return M(),U("div",W,[e(c,{onClick:n[0]||(n[0]=i=>u.$router.back())},{default:s(()=>[r("Back")]),_:1}),e(k,{multiple:"","directory-dnd":"",action:"http://124.222.246.206:3175/api/upload","default-file-list":o(_),onFinish:b,class:"mt-3",max:5},{default:s(()=>[e(m,null,{default:s(()=>[Y,e(d,{style:{"font-size":"16px"}},{default:s(()=>[r(" 点击或者拖动文件到该区域来上传 ")]),_:1}),e(p,{depth:"3",style:{margin:"8px 0 0 0"}},{default:s(()=>[r(" 请不要上传敏感数据，比如你的银行卡号和密码，信用卡号有效期和安全码 ")]),_:1}),e(p,{depth:"3",style:{margin:"8px 0 0 0"}},{default:s(()=>[r(" 新上传图片将覆盖之前上传的图片 ")]),_:1})]),_:1})]),_:1},8,["default-file-list"]),a("div",A,[e(f,{class:"flex items-center mt-16 justify-center"},{default:s(()=>[J,e(g,{placeholder:"请输入商品名字",value:o(t).shop_name,"onUpdate:value":n[1]||(n[1]=i=>o(t).shop_name=i),style:{width:"50%"}},null,8,["value"])]),_:1}),e(D,{style:{width:"59%"},class:"flex items-center mt-4"},{default:s(()=>[K,e(C,{value:o(t).price,"onUpdate:value":n[2]||(n[2]=i=>o(t).price=i),clearable:"",placeholder:"请输入价格"},null,8,["value"])]),_:1}),e(f,{class:"flex items-center mt-4 justify-center"},{default:s(()=>[O,e(g,{placeholder:"请输入商品简介",value:o(t).introduce,"onUpdate:value":n[3]||(n[3]=i=>o(t).introduce=i),style:{width:"50%"}},null,8,["value"])]),_:1}),e(f,{class:"flex items-center mt-4 justify-center"},{default:s(()=>[P,e(g,{placeholder:"请输入发货地址",type:"textarea",value:o(t).address,"onUpdate:value":n[4]||(n[4]=i=>o(t).address=i),style:{width:"50%"}},null,8,["value"])]),_:1}),a("div",Q,[e(c,{strong:"",secondary:"",class:"mt-7",onClick:j,type:"info"},{default:s(()=>[r("提交")]),_:1})])])])}}};export{re as default};
